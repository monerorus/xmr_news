Исходный код для https://news.xmr.ru

# Описание

Данный ресурс использует генератор статических сайтов [HUGO](https://gohugo.io) с темой [XMAG](https://github.com/yihui/hugo-xmag) (стандартные шаблоны содержат индивидуальные изменения).

## Структура

В иерархии новостей используется следующая структура файлов: `/content/news/год/месяц/день/id.md`, где `id` это  номер новости в lyt (1,2,3...). Прикрепляемые файлы в теле новости / статьи (картинки и дополнительные вложения) следует располагать в каталоге с файлом новости.
URL получается следующий: `/news/date/id`, где `date` в формате `YYYY/MM/DD`
Пример:
```
news/2019/03/07/1/  
     YYYY MM DD id
```

# Как написать новость

Для того чтобы написать новость / статью вам потребуется:
[Hugo](https://github.com/gohugoio/hugo/releases) - исполняемый файл генератора статических сайтов, для запуска локальной копии сайта и последующей проверки материала до его публикации.
Знание [Markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#code) - используется для форматирования текста
[Git](https://git-scm.com/) - для публикации результата (не обязательно)

* Скачиваем [HUGO](https://github.com/gohugoio/hugo/releases) в любое удобное место (далее `$hugo_path`)

* Копируем к себе исходный репозиторий сайта
    `git clone https://github.com/monerorus/xmr_news` либо переходим на [github](https://github.com/monerorus/xmr_news) и скачиваем архив вручную.

* Создаем файл с текстом новости в соответствующей папке: xmr_news/content/news/**год/месяц/день/id**.md
  Где `год/месяц/день/id` соответствуют дате публикации (при необходимости соответствующие папки следует создать). Порядковая нумерация нового для (новостей) начитается с `id=1`. Любая дополнительная статья будет продолжать порядковую нумерацию (2.md, 3.md ...)

* Первые строчки файла должны содержать описание, например:  
  ```
  ---
  title: "Заголовок"
  date: 2019-03-14
  id: 1
  thumbnail: "news/2019/03/14/1-cover.png"
  categories: [XMR]
  ---
  ```
  **title** - название новости  
  **date** - дата новости  
  **id** - имя файла md с текстом новости  
  **thumbnail** - путь к картинке, сопровождающей новость (опционально)
  **categories** - категория новости (используется для группировки новостей на сайте)
  (Дополнительные параметры вы можете найти в [документации по hugo](https://gohugo.io/documentation/))

* Ниже пишем текст статьи, используя Markdown синтаксис.

* Проверяем результат. Запускаем hugo:
  ```
  cd xmr_news (перемещаемся в корень сайта)
  $hugo_path\hugo server
  ```
  Открываем в браузере `http://localhost:1313`. Находим созданную вами новость (должна располагаться на первой странице), проверяем корректность данных.
  Если был указан thumbnail, картинка будет вставлена перед текстом новости автоматически.

# Как отправить новость

После подготовки новости необходимо создать pull request в репозитории сайта. Это возможно сделать как минимум двумя способами:

* Необходимо зарегистрироваться на github.com.  
* Перейти в репозиторий https://github.com/monerorus/xmr_news.  
* Сделать fork (кнопка fork вверху справа).

* Внесите изменения:

  1. Если вы пользуетесь git:
    ```
    git clone https://github.com/monerorus/xmr_news
    ```
    Подготовьте новость (либо другие локальные изменения):
    ```
    git add .
    git commit -m "add news"
    git push
    ````

  2. Если вы не используете git, то можно воспользоваться интерфейсом github.com.
     Откройте или добавьте необходимый файл, отредактируйте его в веб-редакторе (кнопка edit)

* Перейдите на страницу вашей копии репозитория на GitHub, жмите кнопку Pull Request.
  После проверки ваши изменения будут добавлены в код сайта.
