Это исходный код для раздела https://news.xmr.ru

# Описание

Используется генератор статических сайтов [HUGO](https://gohugo.io) с темой [XMAG](https://github.com/yihui/hugo-xmag).
Внесены некоторый изменения во внешний вид и шаблоны.

## Структура

Используется следующая структура хранения файлов новостей:  `/content/news/год/месяц/день/номер_новости_в_дне(id)`
URL получается следующий: `/news/date/id`, где `date` в формате `YYYY/MM/DD`  
Пример: 
```
news/2019/03/07/1/  
     YYYY MM DD id
```

# Как написать новость

Для того чтобы написать нвоость вам понадобиться:  
[Hugo](https://github.com/gohugoio/hugo/releases) - исполняемый файл, для запуска локально и проверки результата до публикации.
Знания [Markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#code) - используется для форматирования текста
[Git](https://git-scm.com/) - для публикации результата (не обязательно)

* Скачиваем [HUGO](https://github.com/gohugoio/hugo/releases) в любое место (далее `$hugo_path`)

* Копируем к себе исходный код сайта
    `git clone https://github.com/monerorus/xmr_news` либо заходим на [github](https://github.com/monerorus/xmr_news) скачиваем архив и распаковываем.

* Создаем файл с текстом новости: xmr_news/content/news/`год/месяц/день/id`.md  
  Где `год/месяц/день/id` соответствуют дате публикации, при необходимости папки следует создать. Если новость в этот день одна то id=1, Если более то создаем необходимое количество файлов 1.md, 2.md ...  

* Первые строчки файла должны содержать описание, например:  
  ```
  ---
  title: "Заголовок"
  date: 2019-03-14
  id: 1
  thumbnail: "news/2019/03/14/1-cover.png"
  categories: [XMR]
  ---
  ```
  **title** - название новости  
  **date** - дата новости  
  **id** - имя файла md с текстом новости  
  **thumbnail** - путь к картинке сопровождающей новость, если есть  
  **categories** - категория новости. Используется для группировки нвовстей  
  Это не все возможные параметры, подробнее смотри в [документации по hugo](https://gohugo.io/documentation/)
  
* Ниже пишем текст статьи используя Markdown синтаксис.

* Проверяем результат. Запускаем hugo: 
  ```
  cd xmr_news (переход в корень сайта)
  $hugo_path\hugo server
  ```
  Открываем в браузере `http://localhost:1313`. Находим написанную новость, проверяем все ли в порядке.
  Если был указан thumbnail эта картинка будет вставлена перед текстом новости.
  
# Как отправить новость
  
После подготовки новости необходимо создать pull request в репозитории сайта. Это возможно сделать как минимум двумя способами.

* Необходимо зарегистрироваться на github.com.  
* Перейти в репозиторий https://github.com/monerorus/xmr_news.  
* Сделать fork (кнопка fork вверху справа).

* Внесите изменения:

  1. Если вы пользуетесь git на своей локальной машине
    ```
    git clone https://github.com/monerorus/xmr_news
    ```
    Подготовьте новость (либо другие изменения)
    ```
    git add .
    git commit -m "add news"
    git push
    ````
    
  1. Если вы не используете git, то можно воспользоваться интерфейсом github.com.
      Откройте или добавьте необходимый файл, отредактируйте его в веб-редакторе (кнопка edit)
    
* Перейдите на страницу вашей копии репозитория на GitHub, жмите кнопку Pull Request.
  После проверки ваши изменения будут влиты в код сайта.

  
  
  